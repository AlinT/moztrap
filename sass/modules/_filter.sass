// Case Conductor is a Test Case Management system.
// Copyright (C) 2011-2012 Mozilla
//
// This file is part of Case Conductor.
//
// Case Conductor is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
//
// Case Conductor is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with Case Conductor.  If not, see <http://www.gnu.org/licenses/>.
// ---------------------------------------------------------------------------

// ---------------------------------------------------------------------------
// A filtering widget.

.category-title
  @extend .allcaps
  +cond
  +demi
  +font-style-normal
  padding: 0 .25em
  background: rgba($light,.5)

.toggle
  +columns(5,24)
  text-transform: capitalize
  a
    #{$link}
      +box-sizing(border-box)
      +border-radius
      +rhythm-borders(1px,.25)
      +box-shadow(rgba($mid,$xxsmall) 0 0 $xsmallem inset)
      +hpadding(1em)
      max-width: 100%
      color: rgba($base,$small)
      border-color: rgba($base,$xxsmall)
      display: inline-block
      overflow: hidden
      white-space: nowrap
      text-overflow: ellipsis

    #{$focus}, .expanded &
      +button-style($lightest)

#filterform
  +padding-leader(.5)
  +pie-clearfix
  clear: both

  .form-actions
    +border-top-radius
    +text-shadow($yellow-light 0 1px 0)
    +padding-trailer(.5)
    +hpadding(rhythm(.5))
    display: none
    clear: both
    margin: 0
    background-color: rgba($yellow,$small)
    color: $base

  button
    +button-style($green,'ui/refresh.png')

#filter

  .textual
    +columns(9,24)
    label
      +gone

  .onoff
    white-space: nowrap

  // Compact chicklets.
  .compact

    .toggle
      a
        #{$link}
          &::after
            content: " »"

    .filter-group, .filter-items
      display: inline

    .filter-items
      margin: 0

    .category-title, .addterm
      display: none

    .filter-item
      @extend .chickcheck

  // Expanded lists.
  .expanded

    .toggle
      a
        #{$link}
          &::before
            content: "« "

    .filter-group
      +columns(3,24)
      +trailer(.5)
      +cond
      &.empty
        display: none
      &:nth-of-type(8n)
        +omega(24)
      &:nth-of-type(8n+1)
        clear: left

    .long
      overflow: hidden
      height: rhythm(5)
      min-height: rhythm(5)
      max-height: rhythm(24)
      border-bottom: 1px solid rgba($blue,$small)
      resize: vertical
      &:hover
        overflow-y: auto

    .check, .content
      display: none
    .onoffswitch
      display: block
      padding: 0 rhythm(.25)
      +pad-icon('ui/x_sm.png')
    .onoff
      display: block
      background: image-url('ui/x_sm.png') no-repeat scroll $smallpx
      &:hover
        +demi
    .check:checked + .onoff
      +demi
      background-image: image-url('ui/check_sm.png')
      &:hover
        background-image: image-url('ui/x_sm.png')

  // Keywords
  .keyword
    .content, .onoffswitch
      &::before
        content: open-quote
      &::after
        content: close-quote
