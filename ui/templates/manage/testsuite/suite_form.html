{% extends 'manage/testsuite/base.html' %}

{% block managecontent %}
<section id="addsuite">
  <h2>{% block formtitle %}{% endblock %}</h2>
  <form method="POST">
    {% csrf_token %}
    {{ form.non_field_errors }}
    <ul class="meta">
      <li>
        {{ form.name.errors }}
        {{ form.name.label_tag }}
        {{ form.name }}
      </li>
      <li>
        {{ form.product.errors }}
        {{ form.product.label_tag }}
        {{ form.product }}
      </li>
      <li>
        {{ form.description.errors }}
        {{ form.description.label_tag }}
        {{ form.description }}
      </li>
    </ul>

    <div class="env">
      <h3>Environment Constraints</h3>
      {{ form.env_formset.management_form }}
      <ul class="envlist">
        {% for form in form.env_formset %}
        {% include "manage/_env_form.html" %}
        {% endfor %}
      </ul>
    </div>

    {# @@@ test case selection #}
    <section class="caseselect">
      <h3>add test cases to your test suite</h3>
      <div>
        <p><label for="search">search</label><input type="search" name="search" value="" id="search" placeholder="search for suites to add"></p>
        <div class="unselected">
          <h4>available cases</h4>
          <nav class="listordering">
            <ul>
              <li><a href="#" class="id">id</a></li>
              <li><a href="#" class="title">title</a></li>
              <li><a href="#" class="author">author</a></li>
            </ul>
          </nav>
          <ul class="select">
            <li>
              <input type="checkbox" name="case01" value="" id="case01">
              <label for="case01" class="hcard">
                <span class="id">#3456</span>
                <span class="title">Test Case 01</span>
                <span class="author fn">Author Name</span>
              </label>
            </li>
          </ul>
        </div>
        <div class="addremove">
          <button class="add" title="add selected">add selected</button>
          <button class="update" title="update all">update all</button>
          <button class="remove" title="remove selected">&laquo; remove selected</button>
        </div>
        <div class="selected">
          <h4>included cases</h4>
          <nav class="listordering">
            <ul>
              <li><a href="#" class="id">id</a></li>
              <li><a href="#" class="title">title</a></li>
              <li><a href="#" class="author">author</a></li>
            </ul>
          </nav>
          <ul class="select">
            <li>
              <input type="checkbox" name="case06" value="" id="case06">
              <label for="case06">
                <span class="id">#4567</span>
                <span class="title">Test Case 06</span>
                <span class="author fn">Author Name</span>
              </label>
            </li>
          </ul>
        </div>
      </div>
    </section>

    <div class="form-actions">
      <button type="submit">save test suite</button>
    </div>

  </form>

</section>
{% endblock managecontent %}

{% block extrajs %}
{% include "manage/_env_formset_js.html" with formset=form.env_formset %}
{% endblock %}

{% block last %}
<div style="display: none;">
  {% include "manage/_empty_env_form.html" with form=form.env_formset.empty_form %}
</div>
{% endblock %}
