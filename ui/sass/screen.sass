// Imports --------------------------------------------------------------

@import compass/reset
@import defaults

/* Layout --------------------------------------------------------------

.container
  +container
  +susy-grid-background
  min-width: 800px

.fullwidth
  +full
  +pie-clearfix

.simple
  +full(24)
  +pad(6,6,24)

body > div
  @extend .container
  position: relative

header[role="banner"]
  @extend .fullwidth
  +trailing-border(1px,.5)
  border-color: #ccc

  h1
    +columns(3,24)
    a
      #{$link}
        +padding-leader(.5,21px)
        display: block
        color: $base
      #{$focus}
        color: $accent

nav[role="navigation"]
  +columns(12,24)
  +padding-leader(.5)
  +text-shadow(rgba(white,.5) 1px 1px 0)
  li
    +float(left)
    margin-right: .5em
  a
    &:not([href])
      +opacity(.5)
      color: inherit
      cursor: default
    &, #{$link}
      +padding-leader(.25)
      +padding-trailer(.25)
      +hpadding(1em)
      +border-radius(.25em)
    #{$focus}, &.active
      background: rgba($base,.25)

nav.meta
  +columns(9,24)
  +omega(24)
  +padding-leader(.5)
  text-align: right
  li
    +inline-block
    padding: 0 .5em
    border-right: 1px solid
    vertical-align: baseline
    &:last-child
      border: 0
      padding-right: 0

nav.crumb
  +columns(18)
  +alpha
  +padding-leader(.25)
  +padding-trailer(.25)
  clear: both
  border-color: #ccc
  text-transform: capitalize
  li
    +inline-block
    vertical-align: baseline
    &::after
      content: " Â»"
    &:last-child
      &::after
        content: ""
      a
        +no-style-link

div[role="main"]
  @extend .fullwidth
  +pie-clearfix
  +h-borders(1px,1)
  border-color: #ccc
  position: relative

.message
  @extend .sans
  +full(24)
  +prefix(1,24)
  +rhythm(0,.5,.5,.5)
  +text-shadow($blue-lightest 1px 1px 0)
  font-weight: bold
  background: $blue-lighter image-url('ui/info_circle.png') no-repeat scroll rhythm(1) center
  color: $blue-dark

  &.success
    +text-shadow($green-lightest 1px 1px 0)
    background:
      color: $green-lighter
      image: image-url('ui/check.png')
    color: $green-dark

  &.error
    +text-shadow($red-lightest 1px 1px 0)
    background:
      color: $red-lighter
      image: image-url('ui/x.png')
    color: $red-dark

  &.warning
    +text-shadow($yellow-light 1px 1px 0)
    background:
      color: $yellow
      image: image-url('ui/warning.png')
    color: $yellow-darkest

#messages
  ul
    +no-style-list
  li
    @extend .message
    + li
      +leader(.5)

footer[role="contentinfo"]
  @extend .fullwidth
  +adjust-font-size-to(12px)
  +trailer(1,12px)
  .author, .credit
    +columns(6, 12)
  .adr
    display: inline
    &::before
      content: "| "
  .credit
    +omega(12)
    text-align: right
  small
    font-size: 1em

// Modules -------------------------------------------------------------------

@import modules/icons
@import modules/controls
@import modules/filter
@import modules/loading

@import modules/login
@import modules/create
@import modules/managelists
@import modules/manage
@import modules/test
@import modules/results

// Dev -----------------------------------------------------------------------

#page-status
  +opacity(.5)
  position: fixed
  top: 100%
  right: 0
  bottom: 0
  left: 0
  padding: rhythm(.5) rhythm(1)
  background: $light
  h2
    +gone
  p
    margin: 0
  &::before
    @extend .allcaps
    +border-top-radius(.5em)
    content: attr(title)
    display: block
    position: absolute
    bottom: 100%
    left: rhythm(1)
    padding: rhythm(.25) rhythm(1)
    background: $light
    font-weight: bold
  &:hover
    +opacity(1)
    top: auto

  &[title*="wireframe"]
    background: $yellow-light
    &::before
      background: $yellow-light
  &[title*="incomplete"]
    background: $red-lighter
    &::before
      background: $red-lighter

// Select Runs (wireframe) ---------------------------------------------------

#selectruns
  +full(24)
  label
    +clearfix
    +trailing-border(1px,.25)
    +padding-leader(.25)
    +hpadding(rhythm(.5))
    border-color: $light
    display: block
    font-weight: normal
  input
    +gone
    &:checked
      + label
        font-weight: bold
        background: rgba($blue-light,.5)
  .finder
    +pie-clearfix
    +full(24)
    +trailer
    position: relative
    border: 1px solid $mid
  section
    +transition(width 300ms)
    +float(left)
    position: relative
    top: 0
    bottom: 0
    left: 0
    width: 25%
    height: rhythm(9)
    overflow-y: scroll
    &:last-child
      +float(right)
    &.focus
      width: 50%
    &:not([class*="focus"])
      .listordering
        a::after
          display: none

  .listordering
    position: absolute
    top: 0
    right: 0
    left: 0
    padding: rhythm(.25) rhythm(.5)
    margin: 0
    background: $light
    z-index: 2

  h3, p
    margin-bottom: 0

  .completion, .start, .end, .bycompletion, .bystart, .byend, .end, .byend
    display: none

  .focus
    .completion, .start, .end, .bycompletion, .bystart, .byend, .end, .byend
      display: block
    .completion, .bycompletion
      +columns(1,12)
    .title, .bytitle
      +columns(7,12)
      &:first-child
        +columns(8,12)
    .start, .end, .bystart, .byend
      +columns(2,12)
    .end, .byend
      +omega(12)

  .bystart, .byend, .bycompletion
    +opacity(.75)

  .start, .end
    font-weight: normal

  .start, .end
    color: $mid

  ul
    +no-style-list
    padding-top: rhythm(2)

  li:last-child
    label
      +padding-trailer(.25)
      border-bottom: 0

/* environment --------------------------------------------------------------

.environment
  summary
    +columns(6)
    +omega
    +padding-leader(.25)
    +padding-trailer(.25)
    text-align: right
    color: $alt
    text-transform: capitalize
    &:hover
      color: $accent
  form
    @extend .fullwidth
    +prefix(12)
    +leading-border(1px)
    +padding-trailer(.5)
    padding-right: gutter(24)
    border-color: #ccc
    background: $yellow-light
  +inline-form(4,8,12)

#environment
  +full(24)
  +inline-form(4,8,12)
  form
    @extend .simple
    +rhythm(0,1.5,1,1)
    background: $light