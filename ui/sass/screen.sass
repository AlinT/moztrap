// Imports -------------------------------------------------------------------

@import compass/reset
@import defaults

/* Layout --------------------------------------------------------------------

.container
  +container
  +susy-grid-background
  position: relative
  min-width: 800px

.fullwidth
  +full
  +pie-clearfix

.simple
  +full(24)
  +pad(6,6,24)

#page
  @extend .container

// Banner --------------------------------------------------------------------

[role="banner"]
  background: rgba($blue,$xxsmall)
  a
    #{$link}
      +demi
      color: saturate(darken($alt,5),5)
    #{$focus}
      color: $accent

#brand
  +columns(3)
  +alpha
  a
    #{$link}
      +padding-leader(.5,21px)
      +padding-trailer(.5,21px)
      display: block
      color: inherit
    #{$focus}
      color: $accent

// Navigations ---------------------------------------------------------------

[role="navigation"]
  +columns(12)
  +padding-leader(.5)
  li
    +float(left)
    margin-right: .5em
  a
    &:not([href])
      cursor: default
      color: $blue-light
    &, #{$link}
      +padding-leader(.25)
      +padding-trailer(.25)
      +hpadding($normem)
      +border-radius
    #{$focus}
      //+box-shadow(rgba($blue-hint,$xsmall) 0 -1px 0 inset)
      //background: rgba($blue-dark,$xxsmall)
    &.active
      +box-shadow(rgba($blue-hint,$small) 0 -1px 0 inset)
      +text-shadow(rgba($blue-dark,$small) 0 1px 0)
      background: rgba($blue-dark,$xsmall)
      color: $blue-hint

.meta
  +columns(9)
  +omega
  +padding-leader(.5)
  text-align: right
  li
    +inline-block
    padding: 0 .5em
    border-right: 1px solid
    vertical-align: baseline
    &:last-child
      border: 0
      padding-right: 0

.crumb
  +padding-leader(.25)
  +padding-trailer(.25)
  background: rgba($blue-dark,$xsmall)
  text-transform: capitalize
  .trail
    @extend .fullwidth

  a
    #{$link}
      +text-shadow(rgba($blue-dark,$small) 0 1px 0)
      color: $blue-hint
    #{$focus}
      color: $accent

  li
    +inline-block
    vertical-align: baseline
    &::after
      content: " Â»"
    &:last-child
      &::after
        content: ""
      a
        #{$focus}
          color: $blue-hint

[role="main"]
  @extend .fullwidth
  +pie-clearfix
  +padding-leader

.message
  @extend .sans
  +full(24)
  +prefix(1,24)
  +rhythm(0,.5,.5,.5)
  +text-shadow($blue-lightest 1px 1px 0)
  font-weight: bold
  background: $blue-lighter image-url('ui/info_circle.png') no-repeat scroll rhythm(1) center
  color: $blue-dark

  &.success
    +text-shadow($green-lightest 1px 1px 0)
    background:
      color: $green-lighter
      image: image-url('ui/check.png')
    color: $green-dark

  &.error
    +text-shadow($red-lightest 1px 1px 0)
    background:
      color: $red-lighter
      image: image-url('ui/x.png')
    color: $red-dark

  &.warning
    +text-shadow($yellow-light 1px 1px 0)
    background:
      color: $yellow
      image: image-url('ui/warning.png')
    color: $yellow-darkest

#messages
  ul
    +no-style-list
  li
    @extend .message
    + li
      +leader(.5)

footer[role="contentinfo"]
  @extend .fullwidth
  +adjust-font-size-to(12px)
  +trailer(1,12px)
  +border-radius($xsmallpx)
  padding: rhythm(.25,12px) rhythm(1,12px)
  background: rgba($lighter,.25)
  color: rgba($blue-dark,$small)

  .author, .credit
    +columns(6, 12)
  .adr
    display: inline
    &::before
      content: "| "
  .credit
    +omega(12)
    text-align: right
  small
    font-size: 1em

// Modules -------------------------------------------------------------------

@import modules/icons
@import modules/controls
@import modules/filter
@import modules/loading

@import modules/login
@import modules/create
@import modules/managelists
@import modules/manage
@import modules/test
@import modules/results

// Dev -----------------------------------------------------------------------

#page-status
  &[title=""]
    +gone
  +opacity(.5)
  position: fixed
  top: 100%
  right: 0
  bottom: 0
  left: 0
  padding: rhythm(.5) rhythm(1)
  background: $light
  h2
    +gone
  p
    margin: 0
  &::before
    @extend .allcaps
    +border-top-radius(.5em)
    content: attr(title)
    display: block
    position: absolute
    bottom: 100%
    left: rhythm(1)
    padding: rhythm(.25) rhythm(1)
    background: $light
    font-weight: bold
  &:hover
    +opacity(1)
    top: auto

  &[title*="wireframe"]
    background: $yellow-light
    &::before
      background: $yellow-light
  &[title*="incomplete"]
    background: $red-lighter
    &::before
      background: $red-lighter

// Select Runs (wireframe) ---------------------------------------------------

#selectruns
  +full(24)
  .logo
    +transition(all,300ms)
    width: rhythm(1)
    margin-right: rhythm(.5)
  label
    +pie-clearfix
    +trailing-border(1px,.25)
    +padding-leader(.25)
    +hpadding(rhythm(.5))
    border-color: rgba($blue,$xxsmall)
    display: block
    font-weight: normal
    #{$focus}
      .logo
        +scale(1.75)
  input
    +gone
    &:checked
      + label
        font-weight: bold
        background: rgba($blue-light,.5)
        .logo
          +scale(1.75)
  .finder
    +clearfix
    +full(24)
    +trailer
    position: relative
    border: 1px solid $mid
  .col
    +transition(width,300ms)
    +float(left)
    position: relative
    top: 0
    bottom: 0
    left: 0
    width: 25%
    height: rhythm(9)
    &:last-child
      +float(right)
    &.focus
      width: 50%
    &:not([class*="focus"])
      .listordering
        a::after
          display: none

  .listordering
    +stretch-x
    right: 15px
    padding: rhythm(.25) rhythm(.5)
    margin: 0
    background: $light
    z-index: 2
    a
      #{$link}
        white-space: nowrap

  h3, p
    margin-bottom: 0

  .completion, .start, .end, .bycompletion, .bystart, .byend, .end, .byend
    display: none

  .focus
    .completion, .start, .end, .bycompletion, .bystart, .byend, .end, .byend
      display: block
    .completion, .bycompletion
      +columns(1,12)
    .title, .bytitle
      +columns(7,12)
      &:first-child
        +columns(8,12)
    .start, .end, .bystart, .byend
      +columns(2,12)
    .end, .byend
      +omega(12)

  .bystart, .byend, .bycompletion
    +opacity(.75)

  .start, .end
    font-weight: normal

  .start, .end
    color: $mid

  ul
    +no-style-list
    +stretch
    padding-top: rhythm(2)
    overflow-y: scroll
    overflow-x: hidden

  li:last-child
    label
      +padding-trailer(.25)
      border-bottom: 0

/* environment --------------------------------------------------------------

.environment
  summary
    +columns(6)
    +omega
    +padding-leader(.25)
    +padding-trailer(.25)
    text-align: right
    color: $alt
    text-transform: capitalize
    &:hover
      color: $accent
  form
    @extend .fullwidth
    +prefix(12)
    +leading-border(1px)
    +padding-trailer(.5)
    padding-right: gutter(24)
    border-color: #ccc
    background: $yellow-light
  +inline-form(4,8,12)

#environment
  +full(24)
  +inline-form(4,8,12)
  h2, form
    +columns(12,24)
  h2
    +padding-leader(.25)
  form
    +omega(24)
