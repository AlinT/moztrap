{% load ccforms %}
<div class="formfield {{ field|label_text|slugify }}{% if not field.field.required %} optional{% endif %}{% if field.errors %} errors{% endif %}">
  {% if field|read_only %}
    <dl class="readonly">
      <dt class="rolabel">{% if label %}{{ label }}{% else %}{{ field|label_text }}{% endif %}</dt>
      <dd class="rovalue">{{ field|value_text }}</dd>
    </dl>
    {{ field.as_hidden }}
  {% else %}

    {% if label %}
    {{ field|label:label }}
    {% else %}
    {{ field|label }}
    {% endif %}

    {% if classes %}
    {{ field|classes:classes }}
    {% else %}
    {{ field }}
    {% endif %}

    {{ field.errors }}

  {% endif %}
</div>